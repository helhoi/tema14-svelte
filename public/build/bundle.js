var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function s(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let l=i?()=>window.performance.now():()=>Date.now(),u=i?t=>requestAnimationFrame(t):t;const a=new Set;function f(t){a.forEach(n=>{n.c(t)||(a.delete(n),n.f())}),0!==a.size&&u(f)}function d(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function $(t){return document.createTextNode(t)}function h(){return $(" ")}function y(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function w(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function b(t,n){n=""+n,t.data!==n&&(t.data=n)}function x(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}let v,_,C=0,E={};function k(t,n,e,o,r,s,c,i=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=n+(e-n)*s(t);u+=100*t+`%{${c(o,1-o)}}\n`}const a=u+`100% {${c(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(a)}_${i}`;if(!E[f]){if(!v){const t=g("style");document.head.appendChild(t),v=t.sheet}E[f]=!0,v.insertRule(`@keyframes ${f} ${a}`,v.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${f} ${o}ms linear ${r}ms 1 both`,C+=1,f}function S(t,n){t.style.animation=(t.style.animation||"").split(", ").filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")).join(", "),n&&!--C&&u(()=>{if(C)return;let t=v.cssRules.length;for(;t--;)v.deleteRule(t);E={}})}function T(t){_=t}function R(){const t=function(){if(!_)throw new Error("Function called outside component initialization");return _}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=x(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const N=[],O=[],j=[],A=[],L=Promise.resolve();let M=!1;function B(t){j.push(t)}let z=!1;const F=new Set;function H(){if(!z){z=!0;do{for(let t=0;t<N.length;t+=1){const n=N[t];T(n),P(n.$$)}for(N.length=0;O.length;)O.pop()();for(let t=0;t<j.length;t+=1){const n=j[t];F.has(n)||(F.add(n),n())}j.length=0}while(N.length);for(;A.length;)A.pop()();M=!1,z=!1,F.clear()}}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(B)}}let q;function X(t,n,e){t.dispatchEvent(x(`${n?"intro":"outro"}${e}`))}const Y=new Set;let D;function W(){D={r:0,c:[],p:D}}function G(){D.r||r(D.c),D=D.p}function I(t,n){t&&t.i&&(Y.delete(t),t.i(n))}function J(t,n,e,o){if(t&&t.o){if(Y.has(t))return;Y.add(t),D.c.push(()=>{Y.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const K={duration:0};function Q(e,o,c,i){let d=o(e,c),m=i?0:1,p=null,g=null,$=null;function h(){$&&S(e,$)}function y(t,n){const e=t.b-m;return n*=Math.abs(e),{a:m,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function w(o){const{delay:s=0,duration:c=300,easing:i=n,tick:w=t,css:b}=d||K,x={start:l()+s,b:o};o||(x.group=D,D.r+=1),p?g=x:(b&&(h(),$=k(e,m,o,c,s,i,b)),o&&w(0,1),p=y(x,c),B(()=>X(e,o,"start")),function(t){let n;0===a.size&&u(f),new Promise(e=>{a.add(n={c:t,f:e})})}(t=>{if(g&&t>g.start&&(p=y(g,c),g=null,X(e,p.b,"start"),b&&(h(),$=k(e,m,p.b,p.duration,0,i,d.css))),p)if(t>=p.end)w(m=p.b,1-m),X(e,p.b,"end"),g||(p.b?h():--p.group.r||r(p.group.c)),p=null;else if(t>=p.start){const n=t-p.start;m=p.a+p.d*i(n/p.duration),w(m,1-m)}return!(!p&&!g)}))}return{run(t){s(d)?(q||(q=Promise.resolve(),q.then(()=>{q=null})),q).then(()=>{d=d(),w(t)}):w(t)},end(){h(),p=g=null}}}const U="undefined"!=typeof window?window:global;function V(t){t&&t.c()}function Z(t,n,o){const{fragment:c,on_mount:i,on_destroy:l,after_update:u}=t.$$;c&&c.m(n,o),B(()=>{const n=i.map(e).filter(s);l?l.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(B)}function tt(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function nt(t,n){-1===t.$$.dirty[0]&&(N.push(t),M||(M=!0,L.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function et(n,e,s,c,i,l,u=[-1]){const a=_;T(n);const f=e.props||{},d=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:o(),dirty:u};let m=!1;d.ctx=s?s(n,f,(t,e,...o)=>{const r=o.length?o[0]:e;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),m&&nt(n,t)),e}):[],d.update(),m=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),e.target&&(e.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment&&d.fragment.c(),e.intro&&I(n.$$.fragment),Z(n,e.target,e.anchor),H()),T(a)}class ot{$destroy(){tt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function rt(n){let e,o,r,s,c,i,l,u;return{c(){e=g("section"),o=g("h3"),o.textContent="scroll to climb..",r=h(),s=g("img"),i=h(),l=g("img"),w(o,"class","svelte-t5445k"),s.src!==(c="./img/ladder.png")&&w(s,"src","./img/ladder.png"),w(s,"class","ladder svelte-t5445k"),w(s,"alt","title"),l.src!==(u=n[2])&&w(l,"src",u),w(l,"alt","climber"),w(l,"class","climber svelte-t5445k")},m(t,c){m(t,e,c),d(e,o),d(e,r),d(e,s),n[6](s),d(e,i),d(e,l),n[7](l)},p(t,[n]){4&n&&l.src!==(u=t[2])&&w(l,"src",u)},i:t,o:t,d(t){t&&p(e),n[6](null),n[7](null)}}}function st(t,n,e){const o=R();let r,s,c,{scroll:i}=n,{isScrolling:l}=n;return t.$set=t=>{"scroll"in t&&e(3,i=t.scroll),"isScrolling"in t&&e(4,l=t.isScrolling)},t.$$.update=()=>{16&t.$$.dirty&&e(2,c=l?"./img/climber.gif":"./img/climber_still.png"),11&t.$$.dirty&&r&&s&&(e(0,r.style.transform=`translateY(${i/8}px)`,r),r.getBoundingClientRect().top-150>s.getBoundingClientRect().top&&(console.log("ready to jump.."),o("done")))},[r,s,c,i,l,o,function(t){O[t?"unshift":"push"](()=>{e(0,r=t)})},function(t){O[t?"unshift":"push"](()=>{e(1,s=t)})}]}class ct extends ot{constructor(t){super(),et(this,t,st,rt,c,{scroll:3,isScrolling:4})}}function it(t,{delay:e=0,duration:o=400,easing:r=n}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:r,css:t=>`opacity: ${t*s}`}}function lt(t){let n,e,o;return{c(){n=g("h4"),n.textContent="Oh, the man is getting close to the wall, you may wanna do something about that...",w(n,"class","svelte-fwyfi5")},m(t,e){m(t,n,e),o=!0},i(t){o||(B(()=>{e||(e=Q(n,it,{},!0)),e.run(1)}),o=!0)},o(t){e||(e=Q(n,it,{},!1)),e.run(0),o=!1},d(t){t&&p(n),t&&e&&e.end()}}}function ut(t){let n,e,o,r,s,c,i,l=t[1]&&lt();return{c(){n=g("section"),e=g("h3"),e.textContent="scroll to jump â†’",o=h(),l&&l.c(),r=h(),s=g("img"),w(e,"class","svelte-fwyfi5"),s.src!==(c="./img/man.gif")&&w(s,"src","./img/man.gif"),w(s,"alt","man"),w(s,"class","man svelte-fwyfi5")},m(c,u){m(c,n,u),d(n,e),d(n,o),l&&l.m(n,null),d(n,r),d(n,s),t[5](s),i=!0},p(t,[e]){t[1]?l?I(l,1):(l=lt(),l.c(),I(l,1),l.m(n,r)):l&&(W(),J(l,1,1,()=>{l=null}),G())},i(t){i||(I(l),i=!0)},o(t){J(l),i=!1},d(e){e&&p(n),l&&l.d(),t[5](null)}}}function at(t,n,e){const o=R();let r,{scroll:s}=n,{width:c}=n,i=!1;return t.$set=t=>{"scroll"in t&&e(2,s=t.scroll),"width"in t&&e(3,c=t.width)},t.$$.update=()=>{13&t.$$.dirty&&r&&(e(0,r.style.transform=`translateX(${s/6}px)`,r),console.log(r.getBoundingClientRect().right,c),r.getBoundingClientRect().right>c?e(1,i=!0):e(1,i=!1))},[r,i,s,c,o,function(t){O[t?"unshift":"push"](()=>{e(0,r=t)})}]}class ft extends ot{constructor(t){super(),et(this,t,at,ut,c,{scroll:2,width:3})}}function dt(n){let e;return{c(){e=g("section"),e.innerHTML="<h1>Fall</h1>"},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&p(e)}}}class mt extends ot{constructor(t){super(),et(this,t,null,dt,c,{})}}function pt(n){let e;return{c(){e=g("section"),e.innerHTML="<h1>Swim</h1>"},m(t,n){m(t,e,n)},p:t,i:t,o:t,d(t){t&&p(e)}}}class gt extends ot{constructor(t){super(),et(this,t,null,pt,c,{})}}
/*!
     * Run a callback function after scrolling has stopped
     * (c) 2017 Chris Ferdinandi, MIT License, https://gomakethings.com
     * @param  {Function} callback The function to run after scrolling
     */const{window:$t}=U;function ht(t){let n;const e=new gt({props:{scroll:t[1]}});return e.$on("done",t[8]),{c(){V(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.scroll=t[1]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function yt(t){let n;const e=new mt({props:{scroll:t[1]}});return e.$on("done",t[8]),{c(){V(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.scroll=t[1]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function wt(t){let n;const e=new ft({props:{scroll:t[1],width:t[4]}});return e.$on("done",t[8]),{c(){V(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.scroll=t[1]),16&n&&(o.width=t[4]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function bt(t){let n;const e=new ct({props:{scroll:t[1],isScrolling:t[5]}});return e.$on("done",t[8]),{c(){V(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.scroll=t[1]),32&n&&(o.isScrolling=t[5]),e.$set(o)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){tt(e,t)}}}function xt(t){let n,e,o,s,c,i,l,u,a,f,x,v,_,C,E,k,S,T,R,N=!1,O=()=>{N=!1},j=Math.round(t[1])+"",A=t[6][t[0]]+"";B(t[9]),B(t[10]);const L=[bt,wt,yt,ht],M=[];function z(t,n){return 0==t[0]?0:1==t[0]?1:2==t[0]?2:3==t[0]?3:-1}return~(k=z(t))&&(S=M[k]=L[k](t)),{c(){e=g("main"),o=g("div"),s=g("span"),s.textContent="y pos",c=g("span"),i=$(j),l=h(),u=g("span"),u.textContent="scrolling",a=g("span"),f=$(t[5]),x=h(),v=g("span"),v.textContent="scene",_=g("span"),C=$(A),E=h(),S&&S.c(),w(o,"class","status svelte-1c25t8n"),w(e,"class","svelte-1c25t8n")},m(r,p){m(r,e,p),d(e,o),d(o,s),d(o,c),d(c,i),d(o,l),d(o,u),d(o,a),d(a,f),d(o,x),d(o,v),d(o,_),d(_,C),d(e,E),~k&&M[k].m(e,null),T=!0,R=[y($t,"keydown",t[7]),y($t,"scroll",()=>{N=!0,clearTimeout(n),n=setTimeout(O,100),t[9]()}),y($t,"resize",t[10])]},p(t,[o]){6&o&&!N&&(N=!0,clearTimeout(n),scrollTo(t[2],t[1]),n=setTimeout(O,100)),(!T||2&o)&&j!==(j=Math.round(t[1])+"")&&b(i,j),(!T||32&o)&&b(f,t[5]),(!T||1&o)&&A!==(A=t[6][t[0]]+"")&&b(C,A);let r=k;k=z(t),k===r?~k&&M[k].p(t,o):(S&&(W(),J(M[r],1,1,()=>{M[r]=null}),G()),~k?(S=M[k],S||(S=M[k]=L[k](t),S.c()),I(S,1),S.m(e,null)):S=null)},i(t){T||(I(S),T=!0)},o(t){J(S),T=!1},d(t){t&&p(e),~k&&M[k].d(),r(R)}}}function vt(t,n,e){let o,r,s,c,i=["climb","jump","fall","swim"],l=0;let u=!1;window.addEventListener("scroll",()=>e(5,u=!0));const a=t=>{e(1,o=0),window.scrollTo(0,0),isNaN(t)?e(0,l=l==i.length?0:l+1):e(0,l=t)};return function(t){var n;t&&"function"==typeof t?window.addEventListener("scroll",(function(e){window.clearTimeout(n),n=setTimeout((function(){t()}),66)}),!1):console.log("idop")}(()=>e(5,u=!1)),[l,o,r,s,c,u,i,t=>{!isNaN(t.key)&&t.key<i.length&&a(t.key)},a,function(){e(2,r=$t.pageXOffset),e(1,o=$t.pageYOffset)},function(){e(3,s=$t.innerHeight),e(4,c=$t.innerWidth)}]}return new class extends ot{constructor(t){super(),et(this,t,vt,xt,c,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
